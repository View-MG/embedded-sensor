version: "3.8"

services:
  listener:
    build: .
    container_name: curtain-listener
    restart: always
    
    # üí° ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Network mode ‡πÄ‡∏õ‡πá‡∏ô host
    #    (‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ Container ‡πÉ‡∏ä‡πâ Network ‡∏Ç‡∏≠‡∏á Host ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡∏•‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å)
    network_mode: host 
    
    env_file:
      - .env.listener
    volumes:
      # ‡∏Å‡∏≤‡∏£ mount ‡πÑ‡∏ü‡∏•‡πå serviceAccountKey.json ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß
      - ./serviceAccountKey.json:/usr/src/app/serviceAccountKey.json:ro
    # ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° CMD ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ñ‡∏π‡∏Å‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏ô Dockerfile ‡πÅ‡∏•‡πâ‡∏ß